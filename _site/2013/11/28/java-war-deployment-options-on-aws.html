<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Java WAR deployment options on AWS Elastic Beanstalk | Deplication</title>
<meta name="generator" content="Jekyll v4.3.4" />
<meta property="og:title" content="Java WAR deployment options on AWS Elastic Beanstalk" />
<meta name="author" content="Craig Watcham" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Introduction Elastic Beanstalk deployment is pretty cool for interpreted languages like Python, Ruby, or PHP where all you need to do is a “git aws.push” to deploy the latest version of your application. The AWS Toolkit for Eclipse is also great for Java deployments but what if you want to deploy a manually built WAR? This post lists a few of the options available. It assumes that you have already created an Elastic Beanstalk application using these instructions. The example uses an application name of war-test and a WAR file named sample.war (kindly provided by Apache Tomcat here). Option 1 - AWS Console Pretty simple, select your Beanstalk application and click the “Upload and Deploy” button. Select the WAR file and give it a version name, a few minutes later your new version is up and running. In the background the file is uploaded to an S3 bucket, a new application version linked to the bucket/object and a deployment triggered. Option 2 - Command line This is pretty much the same approach as for the AWS Console upload except that you need to manually perform each of the steps using the AWS CLI tools. Step 1: Find the S3 bucket to upload the file to, this can be done as follows: aws elasticbeanstalk describe-application-versions –application-name war-test Which will print something like: {    “ApplicationVersions”: [        {            “ApplicationName”: “war-test”,             “VersionLabel”: “git-db96ef73b33ba5ae515907c586d133b26b3489b6-1385637920942”,             “Description”: “First commit”,             “DateCreated”: “2013-11-28T11:25:21.596Z”,             “DateUpdated”: “2013-11-28T11:25:21.596Z”,             “SourceBundle”: {                “S3Bucket”: “elasticbeanstalk-us-east-1-XXXXXX”,                 “S3Key”: “git-db96ef73b33ba5ae515907c586d133b26b3489b6-1385637920942.zip”            }        },         {            “ApplicationName”: “war-test”,             “VersionLabel”: “Sample Application”,             “SourceBundle”: {                “S3Bucket”: “elasticbeanstalk-us-east-1”,                 “S3Key”: “GenericSampleApplication”            },             “DateUpdated”: “2013-11-28T11:25:12.781Z”,             “DateCreated”: “2013-11-28T11:25:12.781Z”        }    ]} You are interested in is the “elasticbeanstalk-us-east-1-XXXXXX” bucket (where XXXXXX represents your bucket identifier), use this as the destination for your WAR file. You can probably also use your own (custom bucket) but I have not checked what permissions are needed to allow Elastic Beanstalk to access the files. Step 2: Copy your WAR file to the S3 bucket identified in Step 1. Using the CLI tools again: aws s3 cp ./sample.war s3://elasticbeanstalk-us-east-1-XXXXXX/s3-sample.war Step 3: Create an application version: aws elasticbeanstalk create-application-version –application-name war-test –version-label s3-upload –source-bundle S3Bucket=elasticbeanstalk-us-east-1-XXXXXX,S3Key=s3-sample.war Step 4: Identify the environment to update aws elasticbeanstalk describe-environments –application-name war-test Which returns something like: {    “Environments”: [        {            “ApplicationName”: “war-test”,             “EnvironmentName”: “war-test-env”,             “VersionLabel”: “git-dd7d815e8251acae3560158b169d652d66479bc1-1385644793798”,             “Status”: “Ready”,             “EnvironmentId”: “e-bwjydyebw9”,             “EndpointURL”: “54.204.44.36”,             “SolutionStackName”: “64bit Amazon Linux 2013.09 running Tomcat 7 Java 7”,             “CNAME”: “war-test-env-bffkznzafh.elasticbeanstalk.com”,             “Health”: “Green”,             “DateUpdated”: “2013-11-28T13:20:51.828Z”,             “DateCreated”: “2013-11-28T11:25:29.308Z”        }    ]} Note the value of the EnvironmentName (war-test-env in this example) Step 5: Update the environment aws elasticbeanstalk update-environment –environment-name war-test-env –version-label s3-upload Which will return something like: {    “ApplicationName”: “war-test”,     “EnvironmentName”: “war-test-env”,     “VersionLabel”: “s3-upload”,     “Status”: “Updating”,     “EnvironmentId”: “e-bwjydyebw9”,     “EndpointURL”: “54.204.44.36”,     “SolutionStackName”: “64bit Amazon Linux 2013.09 running Tomcat 7 Java 7”,     “CNAME”: “war-test-env-bffkznzafh.elasticbeanstalk.com”,     “Health”: “Grey”,     “DateUpdated”: “2013-11-28T14:13:42.836Z”,     “DateCreated”: “2013-11-28T11:25:29.308Z”,     “Resources”: {}} Rerun step 4 until the Health reflects as “Green” which indicates your updated application has been deployed (but does not neccessarily mean it is working)." />
<meta property="og:description" content="Introduction Elastic Beanstalk deployment is pretty cool for interpreted languages like Python, Ruby, or PHP where all you need to do is a “git aws.push” to deploy the latest version of your application. The AWS Toolkit for Eclipse is also great for Java deployments but what if you want to deploy a manually built WAR? This post lists a few of the options available. It assumes that you have already created an Elastic Beanstalk application using these instructions. The example uses an application name of war-test and a WAR file named sample.war (kindly provided by Apache Tomcat here). Option 1 - AWS Console Pretty simple, select your Beanstalk application and click the “Upload and Deploy” button. Select the WAR file and give it a version name, a few minutes later your new version is up and running. In the background the file is uploaded to an S3 bucket, a new application version linked to the bucket/object and a deployment triggered. Option 2 - Command line This is pretty much the same approach as for the AWS Console upload except that you need to manually perform each of the steps using the AWS CLI tools. Step 1: Find the S3 bucket to upload the file to, this can be done as follows: aws elasticbeanstalk describe-application-versions –application-name war-test Which will print something like: {    “ApplicationVersions”: [        {            “ApplicationName”: “war-test”,             “VersionLabel”: “git-db96ef73b33ba5ae515907c586d133b26b3489b6-1385637920942”,             “Description”: “First commit”,             “DateCreated”: “2013-11-28T11:25:21.596Z”,             “DateUpdated”: “2013-11-28T11:25:21.596Z”,             “SourceBundle”: {                “S3Bucket”: “elasticbeanstalk-us-east-1-XXXXXX”,                 “S3Key”: “git-db96ef73b33ba5ae515907c586d133b26b3489b6-1385637920942.zip”            }        },         {            “ApplicationName”: “war-test”,             “VersionLabel”: “Sample Application”,             “SourceBundle”: {                “S3Bucket”: “elasticbeanstalk-us-east-1”,                 “S3Key”: “GenericSampleApplication”            },             “DateUpdated”: “2013-11-28T11:25:12.781Z”,             “DateCreated”: “2013-11-28T11:25:12.781Z”        }    ]} You are interested in is the “elasticbeanstalk-us-east-1-XXXXXX” bucket (where XXXXXX represents your bucket identifier), use this as the destination for your WAR file. You can probably also use your own (custom bucket) but I have not checked what permissions are needed to allow Elastic Beanstalk to access the files. Step 2: Copy your WAR file to the S3 bucket identified in Step 1. Using the CLI tools again: aws s3 cp ./sample.war s3://elasticbeanstalk-us-east-1-XXXXXX/s3-sample.war Step 3: Create an application version: aws elasticbeanstalk create-application-version –application-name war-test –version-label s3-upload –source-bundle S3Bucket=elasticbeanstalk-us-east-1-XXXXXX,S3Key=s3-sample.war Step 4: Identify the environment to update aws elasticbeanstalk describe-environments –application-name war-test Which returns something like: {    “Environments”: [        {            “ApplicationName”: “war-test”,             “EnvironmentName”: “war-test-env”,             “VersionLabel”: “git-dd7d815e8251acae3560158b169d652d66479bc1-1385644793798”,             “Status”: “Ready”,             “EnvironmentId”: “e-bwjydyebw9”,             “EndpointURL”: “54.204.44.36”,             “SolutionStackName”: “64bit Amazon Linux 2013.09 running Tomcat 7 Java 7”,             “CNAME”: “war-test-env-bffkznzafh.elasticbeanstalk.com”,             “Health”: “Green”,             “DateUpdated”: “2013-11-28T13:20:51.828Z”,             “DateCreated”: “2013-11-28T11:25:29.308Z”        }    ]} Note the value of the EnvironmentName (war-test-env in this example) Step 5: Update the environment aws elasticbeanstalk update-environment –environment-name war-test-env –version-label s3-upload Which will return something like: {    “ApplicationName”: “war-test”,     “EnvironmentName”: “war-test-env”,     “VersionLabel”: “s3-upload”,     “Status”: “Updating”,     “EnvironmentId”: “e-bwjydyebw9”,     “EndpointURL”: “54.204.44.36”,     “SolutionStackName”: “64bit Amazon Linux 2013.09 running Tomcat 7 Java 7”,     “CNAME”: “war-test-env-bffkznzafh.elasticbeanstalk.com”,     “Health”: “Grey”,     “DateUpdated”: “2013-11-28T14:13:42.836Z”,     “DateCreated”: “2013-11-28T11:25:29.308Z”,     “Resources”: {}} Rerun step 4 until the Health reflects as “Green” which indicates your updated application has been deployed (but does not neccessarily mean it is working)." />
<link rel="canonical" href="http://localhost:4000/2013/11/28/java-war-deployment-options-on-aws.html" />
<meta property="og:url" content="http://localhost:4000/2013/11/28/java-war-deployment-options-on-aws.html" />
<meta property="og:site_name" content="Deplication" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2013-11-28T14:57:00+00:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Java WAR deployment options on AWS Elastic Beanstalk" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Craig Watcham"},"dateModified":"2013-11-28T14:57:00+00:00","datePublished":"2013-11-28T14:57:00+00:00","description":"Introduction Elastic Beanstalk deployment is pretty cool for interpreted languages like Python, Ruby, or PHP where all you need to do is a “git aws.push” to deploy the latest version of your application. The AWS Toolkit for Eclipse is also great for Java deployments but what if you want to deploy a manually built WAR? This post lists a few of the options available. It assumes that you have already created an Elastic Beanstalk application using these instructions. The example uses an application name of war-test and a WAR file named sample.war (kindly provided by Apache Tomcat here). Option 1 - AWS Console Pretty simple, select your Beanstalk application and click the “Upload and Deploy” button. Select the WAR file and give it a version name, a few minutes later your new version is up and running. In the background the file is uploaded to an S3 bucket, a new application version linked to the bucket/object and a deployment triggered. Option 2 - Command line This is pretty much the same approach as for the AWS Console upload except that you need to manually perform each of the steps using the AWS CLI tools. Step 1: Find the S3 bucket to upload the file to, this can be done as follows: aws elasticbeanstalk describe-application-versions –application-name war-test Which will print something like: {    “ApplicationVersions”: [        {            “ApplicationName”: “war-test”,             “VersionLabel”: “git-db96ef73b33ba5ae515907c586d133b26b3489b6-1385637920942”,             “Description”: “First commit”,             “DateCreated”: “2013-11-28T11:25:21.596Z”,             “DateUpdated”: “2013-11-28T11:25:21.596Z”,             “SourceBundle”: {                “S3Bucket”: “elasticbeanstalk-us-east-1-XXXXXX”,                 “S3Key”: “git-db96ef73b33ba5ae515907c586d133b26b3489b6-1385637920942.zip”            }        },         {            “ApplicationName”: “war-test”,             “VersionLabel”: “Sample Application”,             “SourceBundle”: {                “S3Bucket”: “elasticbeanstalk-us-east-1”,                 “S3Key”: “GenericSampleApplication”            },             “DateUpdated”: “2013-11-28T11:25:12.781Z”,             “DateCreated”: “2013-11-28T11:25:12.781Z”        }    ]} You are interested in is the “elasticbeanstalk-us-east-1-XXXXXX” bucket (where XXXXXX represents your bucket identifier), use this as the destination for your WAR file. You can probably also use your own (custom bucket) but I have not checked what permissions are needed to allow Elastic Beanstalk to access the files. Step 2: Copy your WAR file to the S3 bucket identified in Step 1. Using the CLI tools again: aws s3 cp ./sample.war s3://elasticbeanstalk-us-east-1-XXXXXX/s3-sample.war Step 3: Create an application version: aws elasticbeanstalk create-application-version –application-name war-test –version-label s3-upload –source-bundle S3Bucket=elasticbeanstalk-us-east-1-XXXXXX,S3Key=s3-sample.war Step 4: Identify the environment to update aws elasticbeanstalk describe-environments –application-name war-test Which returns something like: {    “Environments”: [        {            “ApplicationName”: “war-test”,             “EnvironmentName”: “war-test-env”,             “VersionLabel”: “git-dd7d815e8251acae3560158b169d652d66479bc1-1385644793798”,             “Status”: “Ready”,             “EnvironmentId”: “e-bwjydyebw9”,             “EndpointURL”: “54.204.44.36”,             “SolutionStackName”: “64bit Amazon Linux 2013.09 running Tomcat 7 Java 7”,             “CNAME”: “war-test-env-bffkznzafh.elasticbeanstalk.com”,             “Health”: “Green”,             “DateUpdated”: “2013-11-28T13:20:51.828Z”,             “DateCreated”: “2013-11-28T11:25:29.308Z”        }    ]} Note the value of the EnvironmentName (war-test-env in this example) Step 5: Update the environment aws elasticbeanstalk update-environment –environment-name war-test-env –version-label s3-upload Which will return something like: {    “ApplicationName”: “war-test”,     “EnvironmentName”: “war-test-env”,     “VersionLabel”: “s3-upload”,     “Status”: “Updating”,     “EnvironmentId”: “e-bwjydyebw9”,     “EndpointURL”: “54.204.44.36”,     “SolutionStackName”: “64bit Amazon Linux 2013.09 running Tomcat 7 Java 7”,     “CNAME”: “war-test-env-bffkznzafh.elasticbeanstalk.com”,     “Health”: “Grey”,     “DateUpdated”: “2013-11-28T14:13:42.836Z”,     “DateCreated”: “2013-11-28T11:25:29.308Z”,     “Resources”: {}} Rerun step 4 until the Health reflects as “Green” which indicates your updated application has been deployed (but does not neccessarily mean it is working).","headline":"Java WAR deployment options on AWS Elastic Beanstalk","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/2013/11/28/java-war-deployment-options-on-aws.html"},"url":"http://localhost:4000/2013/11/28/java-war-deployment-options-on-aws.html"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@latest/css/all.min.css">
  <link rel="stylesheet" href="/assets/css/style.css"><link type="application/atom+xml" rel="alternate" href="http://localhost:4000/feed.xml" title="Deplication" />
</head>
<body><header class="site-header">

  <div class="wrapper"><a class="site-title" rel="author" href="/">Deplication</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">Java WAR deployment options on AWS Elastic Beanstalk</h1>
    <p class="post-meta"><time class="dt-published" datetime="2013-11-28T14:57:00+00:00" itemprop="datePublished">
        Nov 28, 2013
      </time>• 
          <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <span class="p-author h-card" itemprop="name">Craig Watcham</span></span></p>
  </header>

  <div class="post-content e-content" itemprop="articleBody">
    <h4>
Introduction </h4>
Elastic Beanstalk deployment is pretty cool for interpreted languages like <a href="http://docs.aws.amazon.com/elasticbeanstalk/latest/dg/create_deploy_Python.html">Python</a>, <a href="http://docs.aws.amazon.com/elasticbeanstalk/latest/dg/create_deploy_Ruby.html">Ruby</a>, or <a href="http://docs.aws.amazon.com/elasticbeanstalk/latest/dg/create_deploy_PHP_eb.html">PHP</a> where all you need to do is a "git aws.push" to deploy the latest version of your application. The <a href="http://aws.amazon.com/eclipse">AWS Toolkit for Eclipse</a> is also great for Java deployments but what if you want to deploy a manually built WAR? This post lists a few of the options available. It assumes that you have already created an Elastic Beanstalk application using <a href="http://docs.aws.amazon.com/elasticbeanstalk/latest/dg/command-reference-get-started.html">these</a> instructions. The example uses an application name of war-test and a WAR file named sample.war (kindly provided by Apache Tomcat <a href="http://tomcat.apache.org/tomcat-7.0-doc/appdev/sample/">here</a>).<br />
<br />
<h4>
Option 1 - AWS Console</h4>
Pretty simple, select your Beanstalk application and click the "Upload and Deploy" button. Select the WAR file and give it a version name, a few minutes later your new version is up and running.<br />
<br />
In the background the file is uploaded to an S3 bucket, a new application version linked to the bucket/object and a deployment triggered.<br />
<br />
<h4>
Option 2 - Command line</h4>
This is pretty much the same approach as for the AWS Console upload except that you need to manually perform each of the steps using the AWS CLI tools.<br />
<br />
<b>Step 1</b>: Find the S3 bucket to upload the file to, this can be done as follows:<br />
<br />
<span style="font-family: &quot;Helvetica Neue&quot;,Arial,Helvetica,sans-serif;">aws elasticbeanstalk describe-application-versions --application-name war-test</span><br />
<br />
Which will print something like:<br />
<span style="font-family: &quot;Helvetica Neue&quot;,Arial,Helvetica,sans-serif;">{<br />&nbsp;&nbsp;&nbsp; "ApplicationVersions": [<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "ApplicationName": "war-test", <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "VersionLabel": "git-db96ef73b33ba5ae515907c586d133b26b3489b6-1385637920942", <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "Description": "First commit", <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "DateCreated": "2013-11-28T11:25:21.596Z", <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "DateUpdated": "2013-11-28T11:25:21.596Z", <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "SourceBundle": {<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "S3Bucket": "elasticbeanstalk-us-east-1-XXXXXX", <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "S3Key": "git-db96ef73b33ba5ae515907c586d133b26b3489b6-1385637920942.zip"<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }, <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "ApplicationName": "war-test", <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "VersionLabel": "Sample Application", <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "SourceBundle": {<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "S3Bucket": "elasticbeanstalk-us-east-1", <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "S3Key": "GenericSampleApplication"<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }, <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "DateUpdated": "2013-11-28T11:25:12.781Z", <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "DateCreated": "2013-11-28T11:25:12.781Z"<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br />&nbsp;&nbsp;&nbsp; ]<br />}</span><br />
<br />
You are interested in is the "elasticbeanstalk-us-east-1-XXXXXX" bucket (where XXXXXX represents your bucket identifier), use this as the destination for your WAR file. You can probably also use your own (custom bucket) but I have not checked what permissions are needed to allow Elastic Beanstalk to access the files.<br />
<br />
<b>Step 2</b>: Copy your WAR file to the S3 bucket identified in Step 1. Using the CLI tools again:<br />
<br />
<span style="font-family: &quot;Helvetica Neue&quot;,Arial,Helvetica,sans-serif;">aws s3 cp ./sample.war s3://elasticbeanstalk-us-east-1-XXXXXX/s3-sample.war</span><br />
<br />
<b>Step 3</b>: Create an application version:<br />
<br />
<span style="font-family: &quot;Helvetica Neue&quot;,Arial,Helvetica,sans-serif;">aws elasticbeanstalk create-application-version --application-name war-test --version-label s3-upload --source-bundle S3Bucket=elasticbeanstalk-us-east-1-XXXXXX,S3Key=s3-sample.war</span><br />
<br />
<b>Step 4</b>:<b> </b>Identify the environment to update<br />
<br />
<span style="font-family: &quot;Helvetica Neue&quot;,Arial,Helvetica,sans-serif;">aws elasticbeanstalk describe-environments --application-name war-test</span><br />
<br />
Which returns something like: <br />
<br />
<span style="font-family: &quot;Helvetica Neue&quot;,Arial,Helvetica,sans-serif;">{<br />&nbsp;&nbsp;&nbsp; "Environments": [<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "ApplicationName": "war-test", <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "EnvironmentName": "war-test-env", <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "VersionLabel": "git-dd7d815e8251acae3560158b169d652d66479bc1-1385644793798", <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "Status": "Ready", <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "EnvironmentId": "e-bwjydyebw9", <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "EndpointURL": "54.204.44.36", <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "SolutionStackName": "64bit Amazon Linux 2013.09 running Tomcat 7 Java 7", <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "CNAME": "war-test-env-bffkznzafh.elasticbeanstalk.com", <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "Health": "Green", <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "DateUpdated": "2013-11-28T13:20:51.828Z", <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "DateCreated": "2013-11-28T11:25:29.308Z"<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br />&nbsp;&nbsp;&nbsp; ]<br />}</span><br />
<br />
<span style="font-family: inherit;">Note the value of the</span> EnvironmentName (war-test-env<span style="font-family: inherit;"> in this example)</span><br />
<br />
<span style="font-family: inherit;"><b>Step 5</b>: Update the environment</span><br />
<br />
<span style="font-family: inherit;"><span style="font-family: &quot;Helvetica Neue&quot;,Arial,Helvetica,sans-serif;">aws elasticbeanstalk update-environment --environment-name war-test-env --version-label s3-upload</span></span><br />
<span style="font-family: inherit;"><span style="font-family: &quot;Helvetica Neue&quot;,Arial,Helvetica,sans-serif;"><br /><span style="font-family: inherit;">Which will return something like:</span></span></span><br />
<br />
<span style="font-family: inherit;"><span style="font-family: &quot;Helvetica Neue&quot;,Arial,Helvetica,sans-serif;">{<br />&nbsp;&nbsp;&nbsp; "ApplicationName": "war-test", <br />&nbsp;&nbsp;&nbsp; "EnvironmentName": "war-test-env", <br />&nbsp;&nbsp;&nbsp; "VersionLabel": "s3-upload", <br />&nbsp;&nbsp;&nbsp; "Status": "Updating", <br />&nbsp;&nbsp;&nbsp; "EnvironmentId": "e-bwjydyebw9", <br />&nbsp;&nbsp;&nbsp; "EndpointURL": "54.204.44.36", <br />&nbsp;&nbsp;&nbsp; "SolutionStackName": "64bit Amazon Linux 2013.09 running Tomcat 7 Java 7", <br />&nbsp;&nbsp;&nbsp; "CNAME": "war-test-env-bffkznzafh.elasticbeanstalk.com", <br />&nbsp;&nbsp;&nbsp; "Health": "Grey", <br />&nbsp;&nbsp;&nbsp; "DateUpdated": "2013-11-28T14:13:42.836Z", <br />&nbsp;&nbsp;&nbsp; "DateCreated": "2013-11-28T11:25:29.308Z", <br />&nbsp;&nbsp;&nbsp; "Resources": {}<br />}</span></span><br />
<span style="font-family: inherit;"><span style="font-family: &quot;Helvetica Neue&quot;,Arial,Helvetica,sans-serif;"><br /></span>Rerun step 4 until the Health reflects as "Green" which indicates your updated application has been deployed (but does not neccessarily mean it is working).</span><br />
<span style="font-family: inherit;"></span>

<br />
<h4>
<span style="font-family: inherit;">Option 3 - git aws.push</span></h4>
<span style="font-family: inherit;">This is a bit of hack (storing compiled binary files in git) but is still quite cool:</span><br />
<br />
<span style="font-family: inherit;"><span style="font-family: inherit;"><b>Step 1</b>: Unzip your WAR file into the directory that you ran "eb init" in</span></span><br />
<span style="font-family: inherit;"><br /></span>
<span style="font-family: &quot;Helvetica Neue&quot;,Arial,Helvetica,sans-serif;">unzip sample.war -d war-test/</span><br />
<br />
<span style="font-family: inherit;"><span style="font-family: &quot;Helvetica Neue&quot;,Arial,Helvetica,sans-serif;"><span style="font-family: inherit;"><b>Step 2</b>: Add and commit code to git (in the eb init directory again</span></span></span><br />
<span style="font-family: inherit;"><span style="font-family: &quot;Helvetica Neue&quot;,Arial,Helvetica,sans-serif;"><br /></span></span>
<span style="font-family: &quot;Helvetica Neue&quot;,Arial,Helvetica,sans-serif;">cd war-test</span><br />
<span style="font-family: &quot;Helvetica Neue&quot;,Arial,Helvetica,sans-serif;">git add .</span><br />
<span style="font-family: &quot;Helvetica Neue&quot;,Arial,Helvetica,sans-serif;">git commit -m "Some comment" .</span><br />
<span style="font-family: inherit;"><span style="font-family: &quot;Helvetica Neue&quot;,Arial,Helvetica,sans-serif;"><br /></span></span>
<span style="font-family: inherit;"><b>Step 3</b>: Deploy</span><br />
<span style="font-family: inherit;"><span style="font-family: &quot;Helvetica Neue&quot;,Arial,Helvetica,sans-serif;"><br /></span></span>
<span style="font-family: inherit;"><span style="font-family: &quot;Helvetica Neue&quot;,Arial,Helvetica,sans-serif;">git aws.push</span></span><br />
<br />
<h4>
<span style="font-family: inherit;"><span style="font-family: &quot;Helvetica Neue&quot;,Arial,Helvetica,sans-serif;"><span style="font-family: inherit;">Conclusion</span></span></span></h4>
<span style="font-family: inherit;"><span style="font-family: &quot;Helvetica Neue&quot;,Arial,Helvetica,sans-serif;">There are probably other ways of doing this, feel free to add a comment if you find a more elegant solution. Some of the approaches may also work with .</span>NET applications although I have not tested them.</span>
  </div><a class="u-url" href="/2013/11/28/java-war-deployment-options-on-aws.html" hidden></a>
</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <div class="footer-col-wrapper">
      <div class="footer-col">
        <p class="feed-subscribe">
          <a href="http://localhost:4000/feed.xml">
            <svg class="svg-icon orange">
              <path d="M12.8 16C12.8 8.978 7.022 3.2 0 3.2V0c8.777 0 16 7.223 16 16h-3.2zM2.194
                11.61c1.21 0 2.195.985 2.195 2.196 0 1.21-.99 2.194-2.2 2.194C.98 16 0 15.017 0
                13.806c0-1.21.983-2.195 2.194-2.195zM10.606
                16h-3.11c0-4.113-3.383-7.497-7.496-7.497v-3.11c5.818 0 10.606 4.79 10.606 10.607z"
              />
            </svg><span>Subscribe</span>
          </a>
        </p>
        <ul class="contact-list">
          <li class="p-name">GitHub User</li>
          <li><a class="u-email" href="mailto:your-email@domain.com">your-email@domain.com</a></li>
        </ul>
      </div>
      <div class="footer-col">
        <p>Simpler is better.</p>
      </div>
    </div>

    <div class="social-links"><ul class="social-media-list"></ul>
</div>

  </div>

</footer>
</body>

</html>
